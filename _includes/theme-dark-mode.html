<!-- ========== 方案二：drkmd.js ========== -->

<!-- CSS样式：用于颜色反转和效果优化 -->
<style>
  /* 当body标签含有 theme-dark 类时，激活暗黑模式 */
  body.theme-dark {
    filter: invert(1) hue-rotate(180deg);
  }

  /* 修正图片和视频的反转问题 */
  body.theme-dark img,
  body.theme-dark video,
  body.theme-dark iframe {
    filter: invert(1) hue-rotate(180deg);
  }
</style>

<!-- 引入drkmd.js库 -->
<script src="https://cdn.jsdelivr.net/npm/drkmd-js/dist/drkmd-js.min.js"></script>

<!-- 初始化并绑定到您的开关 -->
<script>
  // 初始化drkmd.js实例
  // 注意：这个库默认不显示它自己的按钮，所以attach()方法可以安全调用
  const drkmd = new Darkmode();
  drkmd.attach();
  
  // 获取您的开关元素
  const switchButton = document.getElementById('darkmode-switch');
  
  // 为开关添加点击事件
  switchButton.addEventListener('click', function(event) {
    // 阻止<a>标签的默认跳转行为
    event.preventDefault();
    // 调用库的切换方法
    drkmd.toggle();
  });
</script>