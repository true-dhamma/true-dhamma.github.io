{% if site.livere and page.comments != false  %}
<br>
<div id="lv-container" data-id="city" data-uid="MTAyMC82MDk2NS8zNzQzNQ==">
<script type="text/javascript">
   var refer = window.location.pathname; // 将 refer 设置为当前页面的相对路径
   (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];

       if (typeof LivereTower === 'function') { return; }

       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;

       e.parentNode.insertBefore(j, e);
   })(document, 'script');
</script>
<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
</div>

<br><br>
<livere-comment client-id="Zu3RKqH1WP9NkyJ2VIjM"></livere-comment>
<script type="module" src="https://www.livere.org/livere-widget.js"></script>

{% endif %}

{% if site.twikoo and page.comments != false  %}
<br>
<div id="tcomment"></div>
<script src="https://cdn.staticfile.org/twikoo/1.6.40/twikoo.min.js"></script>
<script>
twikoo.init({
  envId: 'https://twikoo.true-dhamma.com',
  el: '#tcomment',
  path: window.location.pathname,
  lang: 'zh-CN',
});
</script>
<style>
/*!
 * Twikoo v1.6.40 (Modified)
 * A simple, safe, free comment system.
 */

/* --- 全局与头像 --- */
.twikoo {
  position: relative;
}
.twikoo svg {
  width: 100%;
  height: 100%;
  fill: currentColor;
}
.tk-avatar {
  flex-shrink: 0;
  height: 2.5rem;
  width: 2.5rem;
  overflow: hidden;
  text-align: center;
  border-radius: 0; /* 改为直角 */
  margin-right: 1rem;
}
.tk-comment .tk-submit .tk-avatar,
.tk-replies .tk-avatar {
  height: 1.6rem;
  width: 1.6rem;
}
.tk-avatar.tk-has-avatar {
  background-color: rgba(144,147,153,0.13);
}
.tk-avatar.tk-clickable {
  cursor: pointer;
}
.tk-avatar .tk-avatar-img {
  height: 2.5rem;
  color: #c0c4cc;
}
.tk-comment .tk-submit .tk-avatar .tk-avatar-img,
.tk-replies .tk-avatar .tk-avatar-img {
  height: 1.6rem;
}

/* --- 信息输入框（昵称、邮箱、网址）--- */
.tk-meta-input {
  display: flex;
}
.tk-meta-input .el-input {
  width: calc((100% - 1rem) / 3);
  flex: 1;
}
.tk-meta-input .el-input + .el-input {
  margin-left: 0.5rem;
}
.twikoo .el-input-group {
  display: flex;
  align-items: center;
}
.twikoo .el-input-group__prepend {
  display: flex;
  align-items: center;
  height: 32px; /* 统一高度 */
  padding: 0 1rem;
  background-color: rgba(144,147,153,0.13);
  border: 1px solid rgba(144,147,153,0.31);
  border-right: 0;
  border-radius: 0; /* 改为直角 */
  color: currentColor;
  white-space: nowrap;
}
.twikoo .tk-meta-input .el-input__inner {
  height: 32px; /* 统一高度 */
  line-height: 32px;
  border-radius: 0; /* 改为直角 */
}
.twikoo .tk-meta-input .el-input-group--prepend .el-input__inner {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}
.tk-meta-input .el-input input:invalid {
  border: 1px solid #f56c6c;
  box-shadow: none;
}
@media screen and (max-width: 767px) {
  .tk-meta-input {
    flex-direction: column;
  }
  .tk-meta-input .el-input {
    width: auto;
  }
  .tk-meta-input .el-input + .el-input {
    margin-left: 0;
    margin-top: 0.5rem;
  }
}

/* --- 提交区域 --- */
.tk-submit {
  display: flex;
  flex-direction: column;
}
.tk-row {
  display: flex;
  flex-direction: row;
}
.tk-col {
  flex: 1;
  display: flex;
  flex-direction: column;
}
.tk-meta-input {
  margin-bottom: 0.5rem;
}
.tk-row.actions {
  position: relative;
  margin-top: 1rem;
  margin-bottom: 1rem;
  margin-left: 3.5rem;
  align-items: center;
  justify-content: flex-end;
}
.tk-row-actions-start {
  flex: 1;
  display: flex;
  align-items: center;
}
/* 隐藏预览和Markdown按钮 */
.tk-submit-action-icon.__markdown,
.tk-preview {
  display: none !important;
}
.tk-submit-action-icon {
  align-self: center;
  display: inline-block;
  width: 1.25em;
  line-height: 0;
  margin-right: 10px;
  cursor: pointer;
  flex-shrink: 0;
}
.tk-submit-action-icon svg:hover {
  opacity: 0.8;
}
.tk-error-message {
  word-break: break-all;
  color: #ff0000;
  font-size: 0.75em;
  flex-shrink: 1;
}
.tk-input-image {
  display: none;
}
.tk-input {
  flex: 1;
}
.tk-input .el-textarea__inner {
  background-position: right bottom;
  background-repeat: no-repeat;
  border-radius: 0; /* 改为直角 */
}
.tk-preview-container {
  margin-left: 3rem;
  margin-bottom: 1rem;
  padding: 5px 15px;
  border: 1px solid rgba(128,128,128,0.31);
  border-radius: 0; /* 改为直角 */
  word-break: break-word;
}
.tk-fade-in {
  animation: tkFadeIn .3s;
}
@keyframes tkFadeIn {
  0% { opacity: 0 }
  to { opacity: 1 }
}

/* --- 评论列表 --- */
.tk-comments-title {
  font-size: 0.875rem; /* 1.25rem * 0.7 */
  font-weight: bold;
  margin-bottom: 1rem;
  display: flex;
  align-items: baseline;
  justify-content: space-between;
}
.tk-comments-count.__hidden {
  visibility: hidden;
}
.tk-comments-container {
  min-height: 10rem;
  display: flex;
  flex-direction: column;
}
.tk-comments-no {
  flex: 1;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8em; /* 缩小20% */
}
.tk-comments-error {
  font-size: 0.75em;
  color: #ff0000;
}
.tk-icon.__comments {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: sub;
  margin-left: 0.5em;
  height: 0.75em;
  width: 0.75em;
  line-height: 0;
  cursor: pointer;
  color: #409eff;
}

/* --- 单条评论 --- */
.tk-comment {
  margin-top: 1rem;
  display: flex;
  flex-direction: row;
  word-break: break-all;
}
.tk-main {
  flex: 1;
  width: 0;
}
.tk-meta {
  font-size: 0.72em; /* 缩小20%-30% */
}
.tk-nick {
  font-size: 1.1em; /* 相对meta调整，整体缩小 */
}
.tk-nick-link {
  color: inherit;
  text-decoration: none;
}
.tk-nick-link:hover {
  color: #409eff;
}
.tk-content {
  margin-top: 0.5rem;
  overflow: hidden;
  max-height: 500px;
  position: relative;
  font-size: 0.8em; /* 缩小20% */
  line-height: 1.5;
}
.tk-content-expand {
  max-height: none;
}
.tk-replies .tk-content {
  font-size: 1em; /* replies已有字号缩小，这里设为1em即可 */
}
.tk-actions {
  display: none;
  margin-left: 1em;
  font-size: 0.9em; /* 缩小 */
}
.tk-comment:hover .tk-actions {
  display: inline;
}
.tk-extras {
  color: #999999;
  font-size: 0.7em; /* 0.875em * 0.8 */
  display: flex;
  flex-wrap: wrap;
}
.tk-extra {
  margin-top: 0.5rem;
  margin-right: 0.75rem;
  display: flex;
  align-items: center;
}
.tk-icon.__comment {
  height: 1em;
  width: 1em;
  line-height: 1;
}
.tk-tag {
  display: inline-block;
  padding: 0 0.5em;
  font-size: 0.8em; /* 0.75em * 0.8 ~= 0.6em, 调整为0.8em相对父级 */
  border-radius: 0; /* 改为直角 */
  line-height: 1.5;
}
.tk-tag-green {
  background-color: rgba(103,194,58,0.13);
  border: 1px solid rgba(103,194,58,0.50);
  color: #67c23a;
}
.tk-tag-red {
  background-color: rgba(245,108,108,0.13);
  border: 1px solid rgba(245,108,108,0.50);
  color: #f56c6c;
}
.tk-replies {
  max-height: 200px;
  overflow: hidden;
  position: relative;
}
.tk-replies .tk-comment {
  font-size: 0.9em; /* 整体缩小回复的字号 */
}
.tk-replies-expand {
  max-height: none;
  overflow: unset;
}
.tk-submit {
  margin-top: 1rem;
}
.tk-expand {
  font-size: 0.6em; /* 0.75em * 0.8 */
  width: 100%;
  cursor: pointer;
  padding: 0.75em;
  text-align: center;
  transition: all 0.5s;
}
.tk-expand:hover {
  background-color: rgba(0,0,0,0.13);
}
.tk-content img {
  max-width: 300px;
  max-height: 300px;
  vertical-align: middle;
}

/* --- 评论操作（点赞、回复） --- */
.tk-action {
  display: flex;
  align-items: center;
}
.tk-action-link {
  margin-left: 0.5rem;
  color: #409eff;
  text-decoration: none;
  display: flex;
  align-items: center;
}
.tk-action-link .tk-action-icon-solid {
  display: none;
}
.tk-action-link.tk-liked .tk-action-icon,
.tk-action-link:hover .tk-action-icon {
  display: none;
}
.tk-action-link.tk-liked .tk-action-icon-solid,
.tk-action-link:hover .tk-action-icon-solid {
  display: block;
}
.tk-action-count {
  margin-left: 0.25rem;
  font-size: 0.6em; /* 0.75em * 0.8 */
  height: 1.5rem;
  line-height: 1.5rem;
}
.tk-action-icon {
  display: inline-block;
  height: 1em;
  width: 1em;
  line-height: 0;
  color: #409eff;
}

/* --- 页脚 --- */
.tk-footer {
  width: 100%;
  text-align: end;
  font-size: 0.75em;
  color: #999999;
  margin-top: 1em;
}

/* --- OwO 表情简化样式 --- */
.OwO {
  user-select: none;
}
.OwO.OwO-open .OwO-body {
  display: block;
}
.OwO .OwO-logo {
  width: 1.125em;
  display: flex;
}
.OwO .OwO-body {
  display: none;
  position: absolute;
  left: 0;
  right: 0;
  max-width: 500px;
  color: #4a4a4a;
  background-color: #ffffff;
  border: 1px solid rgba(144,147,153,0.31);
  top: 2em;
  border-radius: 0; /* 改为直角 */
  z-index: 1000;
}
.OwO .OwO-body .OwO-items {
  user-select: none;
  display: none;
  padding: 10px 0 10px 10px;
  margin: 0;
  overflow: auto;
  font-size: 0;
}
.OwO .OwO-body .OwO-items .OwO-item {
  list-style-type: none;
  padding: 5px 10px;
  border-radius: 0; /* 改为直角 */
  display: inline-block;
  font-size: 12px;
  line-height: 14px;
  cursor: pointer;
  transition: .3s;
  text-align: center;
}
.OwO .OwO-body .OwO-items-show {
  display: block;
}
.OwO .OwO-body .OwO-bar {
  width: 100%;
  border-top: 1px solid rgba(144,147,153,0.31);
  border-radius: 0; /* 改为直角 */
}
.OwO .OwO-body .OwO-bar .OwO-packages {
  margin: 0;
  padding: 0;
  font-size: 0;
}
.OwO .OwO-body .OwO-bar .OwO-packages li {
  list-style-type: none;
  display: inline-block;
  line-height: 30px;
  font-size: 14px;
  padding: 0 10px;
  cursor: pointer;
  margin-right: 3px;
}
.OwO .OwO-body .OwO-bar .OwO-packages .OwO-package-active {
  background-color: rgba(144,147,153,0.13);
}

/* --- ElementUI 简化样式 --- */
.twikoo .el-input {
  position: relative;
  font-size: 14px;
  display: inline-block;
  width: 100%;
}
.twikoo .el-input__inner,
.twikoo .el-textarea__inner {
  -webkit-appearance: none;
  background-color: transparent;
  background-image: none;
  border-radius: 0; /* 改为直角 */
  border: 1px solid rgba(144,147,153,0.31);
  box-sizing: border-box;
  color: currentColor;
  display: inline-block;
  font-size: inherit;
  outline: 0;
  padding: 0 15px;
  transition: border-color .2s cubic-bezier(.645,.045,.355,1);
  width: 100%;
}
.twikoo .el-input__inner {
  height: 32px; /* 统一高度 */
  line-height: 32px;
}
.twikoo .el-textarea__inner {
  display: block;
  resize: vertical;
  padding: 5px 15px;
  line-height: 1.5;
}
.twikoo .el-input__inner:hover,
.twikoo .el-textarea__inner:hover {
  border-color: rgba(144,147,153,0.50);
}
.twikoo .el-input__inner:focus,
.twikoo .el-textarea__inner:focus {
  outline: 0;
  border-color: #409EFF;
}
.twikoo .el-button {
  display: inline-block;
  line-height: 1;
  white-space: nowrap;
  cursor: pointer;
  border: 1px solid rgba(144,147,153,0.31);
  color: currentColor;
  background-color: rgba(144,147,153,0.063);
  text-align: center;
  box-sizing: border-box;
  outline: 0;
  margin: 0;
  transition: .1s;
  font-weight: 500;
  padding: 8px 15px; /* small size */
  font-size: 12px;
  border-radius: 0; /* 改为直角 */
}
.twikoo .el-button:focus,
.twikoo .el-button:hover {
  color: #409EFF;
  border-color: rgba(64,158,255,0.50);
  background-color: rgba(64,158,255,0.063);
}
.twikoo .el-button--primary {
  color: #FFF;
  background-color: #409EFF;
  border-color: #409EFF;
}
.twikoo .el-button--primary:focus,
.twikoo .el-button--primary:hover {
  background: #66b1ff;
  border-color: #66b1ff;
  color: #FFF;
}
.twikoo .el-button.is-disabled,
.twikoo .el-button.is-disabled:focus,
.twikoo .el-button.is-disabled:hover {
  cursor: not-allowed;
}
.twikoo .el-button--primary.is-disabled,
.twikoo .el-button--primary.is-disabled:active,
.twikoo .el-button--primary.is-disabled:focus,
.twikoo .el-button--primary.is-disabled:hover {
  color: rgba(255,255,255,0.63);
  background-color: rgba(64,158,255,0.50);
  border-color: transparent;
}
.twikoo .el-textarea .el-input__count {
  color: currentColor;
  background: transparent;
  position: absolute;
  font-size: 12px;
  bottom: 5px;
  right: 10px;
}
.twikoo .el-input__suffix {
  right: 5px;
  position: absolute;
  top: 0;
  text-align: center;
  height: 100%;
  color: #C0C4CC;
}
.twikoo .el-input__suffix-inner {
  pointer-events: all;
}
.twikoo .el-input .el-input__clear {
  color: #C0C4CC;
  font-size: 14px;
  cursor: pointer;
}
.twikoo .el-input__icon {
  height: 100%;
  width: 25px;
  text-align: center;
  line-height: 32px; /* 统一高度 */
}
.twikoo .el-input--suffix .el-input__inner {
  padding-right: 30px;
}
</style>

{% endif %}



