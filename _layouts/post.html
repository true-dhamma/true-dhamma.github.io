---
layout: default
---

{% include site-header.html %}

<main class="main  container">

  <article class="article  article--post  content  typeset">
    
    <h1>{{ page.title }}</h1>
    {% include post-meta.html %}
    {{ content }}

    {% include nav-share.html %}

    {% include post-comments.html %}

  </article>

  {% if page.aside == true %}{% include site-aside.html %}{% endif %}

</main>



<!-- =================================================================== -->
<!-- ==============  开始：自动生成文章目录 (TOC) 的脚本  ============== -->
<!-- =================================================================== -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    
    const content = document.querySelector('.article--post');
    const tocContainer = document.getElementById('toc-container');
    const tocNav = document.getElementById('toc-nav');
    const relatedPostsContainer = document.getElementById('related-posts-container');

    if (!tocContainer || !relatedPostsContainer) {
      return;
    }

    const headings = content.querySelectorAll('h2, h3');

    if (headings.length === 0) {
      return;
    }

    const tocList = document.createElement('ul');
    tocList.className = 'list list--categories';

    headings.forEach(heading => {
      if (!heading.id) {
        return; 
      }

      const listItem = document.createElement('li');
      // 【修改点】不再添加 toc-level-h* 类，只使用基础类
      listItem.className = 'item item--category';

      const link = document.createElement('a');
      link.href = '#' + heading.id;
      link.textContent = heading.textContent;

      listItem.appendChild(link);
      tocList.appendChild(listItem);
    });

    tocNav.appendChild(tocList);

    tocContainer.style.display = 'block';
    relatedPostsContainer.style.display = 'none';
  });
</script>
<!-- =================================================================== -->
<!-- ==============   结束：自动生成文章目录 (TOC) 的脚本  ============== -->
<!-- =================================================================== -->


{% include tts-reader.html %}
{% include site-footer.html %}
